<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Planning</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #results {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h2>Flight Planning</h2>
    <form id="photogrammetryForm">
        <label for="NS">Project Boundary Length (North-South) in meters:</label>
        <input type="number" id="NS" name="NS" required>

        <label for="EW">Project Boundary Length (East-West) in meters:</label>
        <input type="number" id="EW" name="EW" required>

        <label for="H">Flying Height in meters:</label>
        <input type="number" id="H" name="H" required>

        <label for="f">Focal Length of the Camera in meters:</label>
        <input type="number" id="f" name="f" required>

        <label for="PE">Percentage of Endlap:</label>
        <input type="number" id="PE" name="PE" required>

        <label for="PS">Percentage of Sidelap:</label>
        <input type="number" id="PS" name="PS" required>

        <label for="img">One Dimension of Square Format Photo in meters:</label>
        <input type="number" id="img" name="img" required>

        <button type="button" onclick="calculatePhotogrammetry()">Submit</button>
    </form>

    <div id="results"></div>

    <script>
        function calculatePhotogrammetry() {
            // Retrieve input values
            var NS = parseFloat(document.getElementById('NS').value);
            var EW = parseFloat(document.getElementById('EW').value);
            var H = parseFloat(document.getElementById('H').value);
            var f = parseFloat(document.getElementById('f').value);
            var PE = parseFloat(document.getElementById('PE').value);
            var PS = parseFloat(document.getElementById('PS').value);
            var img = parseFloat(document.getElementById('img').value);

            // Perform calculations (you can replace this with your Python script)
            var L, W, sc, G, w, t, sps, space, fline, aps, aw, B, p, ph;
            if (NS > EW) {
                L = NS;
                W = EW;
            } else {
                L = EW;
                W = NS;
            }
            sc = Math.round(H / f / 100) * 100; // Round to the nearest hundred
            G = sc * img;
            w = (1 - PS / 100) * G;
            t = (0.5 - PS / 100) * G;
            sps = (W - (2 * t)) / w;
            space = parseInt(sps) + 1;
            fline = space + 1;
            aps = 100 * (G - W + G * space) / (2 * G + space * G);
            aw = (1 - aps / 100) * G;
            B = (1 - PE / 100) * G;
            p = parseInt((L / B) + 6);
            ph = p * fline;

            // Display results
            var resultsHtml = `
                <h3>Results</h3>
                <p>Fly Direction: ${NS > EW ? 'North-South' : 'East-West'}</p>
                <p>Scale for this project: 1:${sc}</p>
                <p>Dimension of square ground coverage per photograph: ${G.toFixed(2)} meters</p>
                <p>Lateral advance per strip: ${w.toFixed(2)} meters</p>
                <p>First and last flight line arranged with respect to Sidelap configuration</p>
                <p>Number of flight lines for this project: ${fline}</p>
                <p>Adjusted side lap: ${aps.toFixed(2)}%</p>
                <p>Adjusted Spacing Between flight lines: ${aw.toFixed(2)} meters</p>
                <p>Linear advance per photo: ${B.toFixed(2)} meters</p>
                <p>Number of photos per strip: ${p}</p>
                <p>Total number of photos required for this project: ${ph}</p>
            `;

            document.getElementById('results').innerHTML = resultsHtml;
        }
    </script>
</body>
</html>


